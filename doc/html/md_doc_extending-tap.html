<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>libtap++: Extending TAP&#39;s Core</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libtap++
   &#160;<span id="projectnumber">0.2.0</span>
   </div>
   <div id="projectbrief">implement Test Anything Protocol for C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Extending TAP's Core </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>at a minimum, libtap++ will do everything that the most recent TAP specification prescribes. if I ever decide to diverge from TAP, I will rename the project to something more appropriate. beyond the protocol, though, libtap++ should provide some capabilities that only make sense to a C++ programmer. to detail how I wish libtap++ to evolve in this direction, I must first explain my view of what is central to TAP itself.</p>
<p>TAP is a simple &ndash; one might fairly term it 'minimal'&ndash; and flexible protocol that produces readable output. all of TAP is built atop the ok/not_ok pair of testing functions, which is reflected in TAP's output. in a sense, tests are 'autovivified' as soon as a test function is called, so the final argument to test functions is less a comment about and more an identifier for the test. TAP has but a few testing functions which can be categorized into two families of tests:</p><ul>
<li>tests of conditions (represented by ok and not_ok)</li>
<li>tests of comparisons (represented by is and isnt; in perl, this family may also include a like function that uses regular expressions)</li>
</ul>
<p>obviously, the second category of tests can be implemented entirely with ok and not_ok, but the comparison tests provide a convenient means to perform a common type of testing, often reducing the burden on the programmer. the benefit of a separate category therefore outweighs the need for simplicity.</p>
<p>TAP associates a "state" with every test which influences the output produced for it: a normal test is run and prints "ok" or "not ok" at the start of its output; a skipped test replaces that text with "skip"; and a todo test uses "TODO". these alternative states are readily integrated into test-driven development, making TAP a suitable tool for feature planning.</p>
<h1>Extension Requirements</h1>
<p>the following two sections detail the basic requirements for the possible extensions to libtap++. I won't consider changing anything else except to fix a bug.</p>
<h2>Extending the Tests</h2>
<p>every addition to the set of test functions should fit into one of the aforementioned categories both semantically and "morphologically". this means that a function will test only strictly within its category and will contain the category as part of its name. furthermore, this means that new test functions should occur in pairs. these rules provide the benefit that the behavior and arguments to a function are predictable at a glance. <code>is_convertible</code>, for instance, is a template function that compares two types using <code>std::is_convertible</code>. <code>TRY_OK</code> and <code>TRY_NOT_OK</code> are macros which test a special kind of condition &ndash; whether the first argument throws an exception. <code>TRY_OK</code> fails if an exception is thrown, and <code>TRY_NOT_OK</code> does the opposite.</p>
<p>libtap++'s test functions are easily distinguished from other types of functions used by the library since they are the only functions allowed to contain "is" or "ok" in their names. capitalization is required for macros. words should be delimited by a hyphen.</p>
<h2>Extending the Printer</h2>
<p>TAP emits output of four kinds:</p><ol type="1">
<li>test lines</li>
<li>plans</li>
<li>notes</li>
<li>error messages</li>
</ol>
<p>// TODO finish explaining how each output may be customized</p>
<h1>Additional Information</h1>
<p>please read ./creating-patches.md "patches" before attempting to submit your implementation of an extension to TAP. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
